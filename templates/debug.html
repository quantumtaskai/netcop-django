{% extends 'base.html' %}

{% block title %}Debug - Environment Status{% endblock %}

{% block content %}
<div style="padding: 20px; font-family: monospace; max-width: 800px; margin: 0 auto;">
    {% if not debug_mode %}
        <h1>🚫 Debug page disabled in production</h1>
        <p>This debug page is only available in development mode.</p>
    {% else %}
        <h1>🔧 Environment Debug Page</h1>
        
        <div style="background: #f5f5f5; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
            <h2>Environment Variables Status:</h2>
            <pre>{{ env_status|safe }}</pre>
        </div>
        
        <div style="background: #e8f4f8; padding: 15px; border-radius: 8px;">
            <h3>💡 Troubleshooting Tips:</h3>
            <ul>
                <li>Make sure .env file exists in your project root</li>
                <li>Restart your Django server after changing environment variables</li>
                <li>In production, set environment variables in your hosting platform dashboard</li>
                <li>Check that sensitive variables are properly configured</li>
            </ul>
        </div>
        
        <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-top: 20px;">
            <h3>🔍 Database Status:</h3>
            <p>Database Connection: <strong style="color: {{ db_status.color }};">{{ db_status.status }}</strong></p>
            <p>User Count: <strong>{{ user_count }}</strong></p>
            <p>Agent Count: <strong>{{ agent_count }}</strong></p>
        </div>
    {% endif %}
</div>
{% endblock %}
